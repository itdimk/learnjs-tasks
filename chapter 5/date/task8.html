<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
        Number.prototype.pad = function () {
            let s = String(this);
            while (s.length < 2)
                s = "0" + s;
            return s;
        }

        function formatDate(date) {
            const now = new Date()
            if (now - date <= 1E3)
                return 'прямо сейчас'

            console.log(now - date)
            if (now - date < 60E3)
                return (now - date) / 1E3 + ' сек. назад'

            if (now - date < 3600E3)
                return (now - date) / 60E3 + ' мин. назад'

            return `${date.getDate().pad()}.${date.getMonth().pad()}.${(date.getFullYear() % 100).pad()}` +
                ` ${date.getHours().pad()}:${date.getMinutes().pad()}`
        }

        alert(formatDate(new Date(new Date - 1))); // "прямо сейчас"
        alert(formatDate(new Date(new Date - 30 * 1000))); // "30 сек. назад"
        alert(formatDate(new Date(new Date - 5 * 60 * 1000))); // "5 мин. назад"
        // вчерашняя дата вроде 31.12.2016, 20:00
        alert(formatDate(new Date(new Date - 86400 * 1000)));
    </script>
</head>
<body>

</body>
</html>