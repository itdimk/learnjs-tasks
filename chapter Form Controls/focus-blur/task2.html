<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
</head>

<body>
<link rel="stylesheet" href="task2.css">
<link rel="stylesheet" href="task2-my.css">


<p>Кликните на ячейку таблицы, чтобы отредактировать её. Нажмите ОК или ОТМЕНА, когда закончите.</p>

<table id="bagua-table" onclick="tableClickHandler(event)">
    <tr>
        <th colspan="3">Квадрат <em>Bagua</em>: Направление, Элемент, Цвет, Значение</th>
    </tr>
    <tr>
        <td class="nw"><strong>Северо-Запад</strong>
            <br>Металл
            <br>Серебро
            <br>Старейшины
        </td>
        <td class="n"><strong>Север</strong>
            <br>Вода
            <br>Синий
            <br>Перемены
        </td>
        <td class="ne"><strong>Северо-Восток</strong>
            <br>Земля
            <br>Жёлтый
            <br>Направление
        </td>
    </tr>
    <tr>
        <td class="w"><strong>Запад</strong>
            <br>Металл
            <br>Золото
            <br>Молодость
        </td>
        <td class="c"><strong>Центр</strong>
            <br>Всё
            <br>Пурпурный
            <br>Гармония
        </td>
        <td class="e"><strong>Восток</strong>
            <br>Дерево
            <br>Синий
            <br>Будущее
        </td>
    </tr>
    <tr>
        <td class="sw"><strong>Юго-Запад</strong>
            <br>Земля
            <br>Коричневый
            <br>Спокойствие
        </td>
        <td class="s"><strong>Юг</strong>
            <br>Огонь
            <br>Оранжевый
            <br>Слава
        </td>
        <td class="se"><strong>Юго-Восток</strong>
            <br>Дерево
            <br>Зеленый
            <br>Роман
        </td>
    </tr>

</table>

<script>
    function tableClickHandler(e) {
        const target = e.target
        if (target.tagName === 'TD') {
            const textArea = createTextAreaFor(target)
            target.replaceWith(textArea)
            textArea.focus()
            textArea.onblur = () => {
                target.innerHTML = textArea.value
                textArea.replaceWith(target)
            }
        }
    }

    function createTextAreaFor(td) {
        const textArea = document.createElement('textarea')
        textArea.className = 'edit'
        textArea.style.width = td.clientWidth + 'px'
        textArea.style.height = td.clientHeight + 'px'
        return textArea
    }

</script>

</body>

</html>